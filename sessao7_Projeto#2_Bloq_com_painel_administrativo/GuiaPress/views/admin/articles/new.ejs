<%- include ('../../partials/header.ejs'); %>
<%- include ('../../partials/navbar.ejs'); %>

    <div class="container">
        <br>
        <div class="card">
            <div class="card-header">
                <h2>Novo Artigo</h2>
            </div>
            <div class="card-body"><!---->
                <form name="form1" method="POST" action="/articles/save" onsubmit="validarCampos()">
                    <label for="tile">Título:</label>
                    <input class="form-control" type="text" name="title" placeholder="Defina o título do artigo">                    
                    <label for="article">Conteúdo:</label>
                    <textarea class="form-control" type="text" name="article" placeholder="Digite o conteúdo do artigo" id="article" ></textarea>
                    <label for="cars">Categoria:</label>
                    <select class="form-control" id="category" name="category" onselect="">
                        <% categories.forEach(category=>{ %>
                            <option value="<%=category.id%>"><%=category.title%></option>
                        <%})%>
                    </select>
                    <br>
                    <button class="btn btn-primary" onclick="">Cadastrar</button>
                </form> 
            </div>  
        </div>
    </div>

<%- include ('../../partials/footer.ejs'); %>
<!--<script src="./../../../public/tinymce/tinymce.min.js"></script>-->
<script src="/tinymce/tinymce.min.js"></script>
<script>
    tinymce.init({
        language: 'pt_BR',
        selector: '#article',
        plugins: ['advlist autolink link image lists print preview hr searchreplace wordcount fullscreen insertdatetime media save table paste emoticons']
    })

</script>
<script language="javascript" type="text/javascript">
    function validarCampos(){
        var title = form1.title.value;
        var article = form1.article.value;
        var category = form1.category.value;

        if(title == " "){
            alert("Preencha o título da categoria");
            form1.title.focus();
            return false;
        }
        if(article == ""){
            alert("Preencha o artigo");
            form1.body.focus();
            return false;
        }
    }
</script>